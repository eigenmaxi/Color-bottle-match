<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Color Bottle Match</title>

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Poppins:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="style.css" />

    <!-- Farcaster SDK (ESM) -->
    <script type="module">
      import { sdk } from "https://esm.sh/@farcaster/miniapp-sdk";

      window.addEventListener("load", async () => {
        try {
          await sdk.actions.ready();
          console.log("Farcaster Mini App is ready âœ…");
        } catch (error) {
          console.error("Error calling sdk.actions.ready():", error);
        }
      });
    </script>

    <!-- Ethers (v5 UMD) -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

    <!-- Farcaster Mini App Metadata -->
    <meta
      name="fc:miniapp"
      content='{"version":"1","imageUrl":"https://color-bottle-match-nx4y.vercel.app/assets/IMG_4291.png","button":{"title":"Play Game","action":{"type":"launch_miniapp"}}}'
    />

    <!-- Open Graph Metadata for embeds -->
    <meta property="og:title" content="Color Bottle Match" />
    <meta
      property="og:description"
      content="Match colored bottles in 30 seconds and mint your scorecard as an NFT!"
    />
    <meta
      property="og:image"
      content="https://color-bottle-match-nx4y.vercel.app/assets/IMG_4291.png"
    />
  </head>

  <body>
    <div id="game-wrapper">
      <h1>Color Bottle Match</h1>

      <!-- Decorative bottles on start screen (carts) -->
      <div id="bottle-banner">
        <img
          src="https://cdn-icons-png.flaticon.com/512/891/891462.png"
          alt="Bottle"
          class="banner-bottle"
          style="filter: hue-rotate(0deg)"
        />
        <img
          src="https://cdn-icons-png.flaticon.com/512/891/891462.png"
          alt="Bottle"
          class="banner-bottle"
          style="filter: hue-rotate(90deg)"
        />
        <img
          src="https://cdn-icons-png.flaticon.com/512/891/891462.png"
          alt="Bottle"
          class="banner-bottle"
          style="filter: hue-rotate(180deg)"
        />
        <img
          src="https://cdn-icons-png.flaticon.com/512/891/891462.png"
          alt="Bottle"
          class="banner-bottle"
          style="filter: hue-rotate(270deg)"
        />
      </div>

      <div id="stats">
        <p id="timer">Time: 30s</p>
        <p id="score">Score: 0</p>
      </div>

      <img id="bottle-logo" src="/assets/bottle.png" alt="" />
      <!-- Purple bottle after stats -->

      <p id="message"></p>
      <div id="game-container"></div>

      <button id="start-button">Start Game</button>
    </div>

    <!-- Main Game Script -->
    <script src="main.js"></script>
  </body>
</html>
